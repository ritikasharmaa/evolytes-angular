<div style="width: 100%; height: 100%;">
  <div fxFlex="30px"></div>
  <div fxFlex>
    <div style="height: 20px;"></div>
    <!-- Title and buttons -->
    <div fxLayoutAlign="start center">
      <p class="boldMont font24px blackColor noMargin">{{ 'schoolAdministration.students.importStudents' | translate }}</p>
      <div fxFlex></div>
      <div fxFlex="120px" fxLayoutAlign="start center">
        <input type="file"
               (change)="onFileChanged($event)"
               accept="text/csv"
               style="display: none;" #fileUpload>
        <button class="greenButton whiteColor semiBoldMont font14px"
                style="height: 40px;"
                fxFlex
                (click)="fileUpload.click()">
          {{ 'schoolAdministration.students.selectFile' | translate }}
        </button>
      </div>
      <div fxFlex="10px"></div>
    </div>
    <div style="height: 20px;"></div>
    <div style="height: calc(100% - 140px); overflow-y: scroll; overflow-x: visible;">
      <div fxFlex="5px"></div>
      <div fxFlex>
        <div style="height: 10px;"></div>
        <div *ngFor="let student of students; let i = index;">
          <div class="whiteBg smallShadow" style="border-radius: 4px;">
            <div style="height: 40px;" fxLayoutAlign="start center">
              <div fxFlex="20px"></div>
              <p class="boldMont font18px blackColor noMargin">Nemandi {{ i + 1 }}</p>
              <div fxFlex="20px"></div>
            </div>
            <div>
              <div fxFlex="20px"></div>
              <app-evo-input fxFlex title="First Name" [value]="student.firstName" (inputChangedEvent)="student.firstName = $event"></app-evo-input>
              <div fxFlex="20px"></div>
              <app-evo-input fxFlex title="Middle Name" [value]="student.middleName" (inputChangedEvent)="student.middleName = $event"></app-evo-input>
              <div fxFlex="20px"></div>
            </div>
            <div style="height: 10px;"></div>
            <div>
              <div fxFlex="20px"></div>
              <app-evo-input fxFlex title="Last Name" [value]="student.lastName" (inputChangedEvent)="student.lastName = $event"></app-evo-input>
              <div fxFlex="20px"></div>
              <app-evo-input-date fxFlex title="Birth Date" [currentValue]="student.birthDate"></app-evo-input-date>
              <div fxFlex="20px"></div>
            </div>
            <div style="height: 10px;"></div>
            <div *ngIf="student.relationships.length > 0">
              <div style="height: 40px;" fxLayoutAlign="start center">
                <div fxFlex="20px"></div>
                <p class="boldMont font12px grayColor noMargin">Tengingar</p>
                <div fxFlex="20px"></div>
              </div>
              <div>
                <div fxFlex="20px"></div>
                <div fxFlex>
                  <div *ngFor="let relation of student.relationships">
                    <!-- TODO: Ability to delete relation -->
                    <app-evo-input title="Veffang Kennara" [value]="relation.email"></app-evo-input>
                    <div style="height: 12px;"></div>
                  </div>
                  <!-- TODO: Ability to add relation -->
                </div>
                <div fxFlex="20px"></div>
              </div>
              <div style="height: 10px;"></div>
            </div>
          </div>
          <div style="height: 10px;"></div>
        </div>
      </div>
      <div fxFlex="5px"></div>
    </div>
    <!-- https://stackoverflow.com/questions/3258943/css3-drop-shadow-under-another-div-z-index-not-working -->
    <div class="whiteBg defaultShadow" style="height: 60px; position: relative; z-index: 11; border-radius: 4px 4px 0 0;" fxLayoutAlign="end center">
      <button fxFlex="140px" class="redButton semiBoldMont font14px whiteColor" style="height: 40px;" (click)="onCancelClicked()">{{ 'reusable.cancel' | translate }}</button>
      <div fxFlex="20px"></div>
      <button fxFlex="140px"
              class="greenButton semiBoldMont font14px whiteColor"
              style="height: 40px;"
              [disabled]="students.length === 0"
              (click)="onCreateClicked()">
        {{ 'reusable.create' | translate }}
      </button>
      <div fxFlex="20px"></div>
    </div>
  </div>
  <div fxFlex="30px"></div>
</div>
